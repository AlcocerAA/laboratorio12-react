/* src/components/saber.css */
:root{
  --saber-bg:#0b0e13;
  --hilt:#1e232b;
  --ignite-dur:.8s;
}

/* Área del loader: queda SIEMPRE montado */
.saber-wrap{
  position: relative;
  display:flex; align-items:center; justify-content:center; gap:16px;
  width:100%;
  overflow:hidden;
  transition: height .18s ease, opacity .18s ease, visibility .18s ease;
}
.saber-wrap.sm{ height:110px; }
.saber-wrap.md{ height:140px; }
.saber-wrap.lg{ height:160px; }

.saber-wrap.hidden{ height:0; opacity:0; visibility:hidden; pointer-events:none; }
.saber-wrap.visible{ opacity:1; visibility:visible; }

.saber-wrap.crossed .saber.left  { transform: rotate(40deg);  transform-origin: 34px 14px; }
.saber-wrap.crossed .saber.right { transform: rotate(-40deg); transform-origin: 34px 14px; }

/* Sable */
.saber{ display:flex; align-items:center; gap:10px; filter: drop-shadow(0 4px 14px rgba(0,0,0,.45)); }
.hilt{ width:58px;height:16px;border-radius:8px;background:linear-gradient(180deg,#1e232b 0%,#0f1319 100%);
  box-shadow:inset 0 0 0 1px rgba(255,255,255,.06),0 2px 6px rgba(0,0,0,.6);position:relative;display:flex;align-items:center;justify-content:flex-end;padding-right:6px; }
.hilt .ring{ position:absolute;left:8px;width:8px;height:8px;border-radius:50%;background:radial-gradient(circle at 40% 40%,#666,#222); }
.hilt .emitter{ width:8px;height:8px;border-radius:50%;background:radial-gradient(circle at 60% 60%,#bbb,#444);box-shadow:0 0 4px #fff7; }

.blade{ position:relative; width:220px; height:14px; border-radius:8px; background:#000000a0; overflow:hidden; }
.core,.glow{ position:absolute; left:0; top:50%; transform:translateY(-50%); height:6px; border-radius:4px; width:0; }
.core{ background:#fff; filter:brightness(1.2); }
.glow{ filter:blur(4px); opacity:.9; }

.saber.blue   .glow{ background:linear-gradient(90deg, rgba(0,180,255,.2), rgba(0,180,255,.95), rgba(0,180,255,.2)); }
.saber.green  .glow{ background:linear-gradient(90deg, rgba(60,255,120,.2), rgba(60,255,120,.95), rgba(60,255,120,.2)); }
.saber.red    .glow{ background:linear-gradient(90deg, rgba(255,60,60,.2), rgba(255,60,60,.95), rgba(255,60,60,.2)); }
.saber.purple .glow{ background:linear-gradient(90deg, rgba(185,120,255,.2), rgba(185,120,255,.95), rgba(185,120,255,.2)); }

/* Modo "once": solo encendido una vez */
.saber-wrap.once .core,
.saber-wrap.once .glow{
  animation: ignite var(--saber-ignite, var(--ignite-dur)) ease forwards;
}

/* Modo "static": hoja encendida fija sin reiniciar animación */
.saber-wrap.static .core,
.saber-wrap.static .glow{
  width:86%;
}

/* Opcional: si quieres respiración leve continua, añade esta clase extra a .saber-wrap */
.saber-wrap.idle .glow{ animation: idle 2.4s ease-in-out infinite; }
@keyframes idle { 0%,100%{ transform:translateY(-50%) scaleY(1)} 50%{ transform:translateY(-50%) scaleY(1.08)} }

@keyframes ignite { from{ width:0 } to{ width:86% } }